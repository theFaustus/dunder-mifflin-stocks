###
POST http://127.0.0.1:8888/actuator/refresh
Content-Type: application/json

###
GET http://127.0.0.1:8888/actuator/env
Content-Type: application/json

###
GET http://localhost:8877/licenses/api/v1/organizations/4725c59c-cccd-4053-ae6f-7ae3e3529fbf/licenses/1111-4450
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMMGRGOGNIQ2hOZTI5d2xUVGtHOEdXMjVXd3JDR2Z1dW5QcUVtRklDSGJzIn0.eyJleHAiOjE2NTI4NjM1MjgsImlhdCI6MTY1Mjg2MzIyOCwianRpIjoiOGZjMDI4MjktNDMwOC00ZDNiLWFhNTktZDc4YmI0ZDJiNGNjIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjIwOWQwMzQ2LTgxODMtNGI1OS1hYjU4LTY4MjgwYWY3NjhmOCIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI3ZWQ2NTU5NS0zNzU5LTQyM2YtOTM4Ny0wYzFlNjlmNWMyNTUiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.QTQ0AqtIL6eyZLgOnCNhA1fYistRRKNxFf363wjFKl2nwAOP6QXmlZdKflw63TsKKPJ9itsh8DyaZoAmwemUZLXRW71hHX9w98ChNTndxoLEl4L6cGhtJd7fDSTPrfpRuWPUvTT93INOsroNwXE_0yFO_xegYdX50IklpfzgkjdQDAqkaPD43MmA1ZcDEC2tuqDMdZI5hwEGksNxNs70BZaXMHFBEAa5a2D0WK7t5CLnDBPiHYSJzZuYod-mV9ZVDqX644N105MDauY5SFS7icWKyBJG2TpWWJuhdlxKWztHEdSEBviXDv84BdWuPN-Yl3fU3op4utFyjVumEdhLUA


### gateweay create
POST http://localhost:8877/licenses/api/v1/organizations/7c6d16ee-d32f-4da1-9fa3-8284f6004ef1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMMGRGOGNIQ2hOZTI5d2xUVGtHOEdXMjVXd3JDR2Z1dW5QcUVtRklDSGJzIn0.eyJleHAiOjE2NTI4MTU5ODYsImlhdCI6MTY1MjgxNTY4NiwianRpIjoiYTRmMTc0MGYtYWQyMi00MWFmLWI1NDktNzQ1NTgzNzg0MDJhIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjIwOWQwMzQ2LTgxODMtNGI1OS1hYjU4LTY4MjgwYWY3NjhmOCIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiJhMDA3NjdlOS05MGE5LTQ5YmYtOTBmNS1lY2Q1MTQ5YzBmMGEiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.DAgPX2IzlM78UNuBAn_kbyJLKFHuzrwbnM56a02-teojEttU7brnAkL0vzLz4peoyxY-bl3-7wlxvDzLEDVGqVpoEw5jjMScO0TTL6LvqXAyNmUNMppYHoUj4vTorB1rbu4rVMTHSRduZUUEPgFCON10ieNwIhZ-OFSSJ-AN7-0o3NPxSCqbNkvnNcWPnASkN3JZekbG972PWIOnb3K1qsSGYjttyEZi-nKoCDX20YwQ_tOubWbZ7c6F556OtOEP573qvNl-CaJEmGkLiilscOmQ6TL9v7HVPR5FWFvlSoY4yKvErODkx95VBqkiaQFr133BXbvOAq3o713-ZivpnQ

{
  "licenseId": "1111-4452",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL",
  "organization": {
    "name": "Scranton Dunder Mifflin Paper Company Inc.",
    "contactName": "Michael Scott",
    "contactEmail": "mscott@dmifflin.com",
    "contactPhone": "+48946542164"
  }
}

### openid login admin
POST http://localhost:8181/auth/realms/dunder-mifflin-realm/protocol/openid-connect/token
Authorization: Basic ZHVuZGVyLW1pZmZsaW4tc3RvY2tzOjczYmRiYTBkLWEyZTEtNGViYS1iM2JmLTc2NTRiYjUwYTU1MA==
Content-Type: application/x-www-form-urlencoded

grant_type=password&username=michael.scott&password=123456

### openid login user
POST http://localhost:8181/auth/realms/dunder-mifflin-realm/protocol/openid-connect/token
Authorization: Basic ZHVuZGVyLW1pZmZsaW4tc3RvY2tzOjczYmRiYTBkLWEyZTEtNGViYS1iM2JmLTc2NTRiYjUwYTU1MA==
Content-Type: application/x-www-form-urlencoded

grant_type=password&username=dwight.schrute&password=123456

### gateway
GET http://localhost:8877/licenses/api/v1/organizations/b87cf126-2527-4980-9235-8945a8289e4b/licenses
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MTIxOTgsImlhdCI6MTY1MjcxMTg5OCwianRpIjoiYTdhYjhmNzItODllZC00ODc0LThlMWQtYzZmZTA0MDk1ZWM5IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0ZDJhNjNmOC01ZmUwLTRiZWUtODhkZC03NzQ2Y2I4YjkzYmMiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.mpVuRXQSjd8OvbJslRWMS0ztg8w6ul6bm6hDh7oID_Kkma8Ft5S-LBG6rawvjH6c5c6Am_y2a05PqdOPeRVd2VWsX5YU8hyGSW0JkPQhZGiYiGgEHfPdaxN5KUnoPJ823VF6DM6FONUFCK_aFsuoRPu_-9jMPpqPnhGwymOKq0CvF-u-f_CPpGyNBBeS5npU9xVWRYBtjUWsm3QmNQWzE5rPPslq4oX8mRBdJbyY-DNqr9e9SXKM5UAs79T0LvLrNgOA3NPIAbgIIOFM7HY1M98SPGHd0fol6E8CE0PLA3hesXC0CuzvjjaKKd9Ukwx0kpxRO34Ck3TYxDEA3Dm2uA

### circuit breaker in action
GET http://localhost:8888/api/v1/organizations/b87cf126-2527-4980-9235-8945a8289e4b/licenses
Content-Type: application/json
tmx-correlation-id: 123456

###
POST http://localhost:8888/api/v1/organizations/1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MTk4MzUsImlhdCI6MTY1MjcxOTUzNSwianRpIjoiNzFkYTA4NzctYzZlZi00YzU4LTg5YjItY2I2MzMzZGQwMmZjIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiIwNDFiOTJiNS0zMDBhLTQ0N2UtOGM1OC0xMzNiMDljNGVmYTkiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.F_P3Ak2IH0oCKTBJ93BAbTEdZb2Lbf_ZlDiucMumOrJ4X7NJJUv7AOugJq5Kk_wev7PT4ySKRSAiBj0j8OkQYeXj_qBljhWeMNrbQwuIiypRJswQ6ZIBsC5p2TKWN0UT4CIazdiAqsiMzzAl0IXlL4Iy8WKVo_QYHT4qb3jppwCdqNfk5RKBwZsPniuNasGqNWuwnOBnHSodzqW3ukzvBjAxFx8YiUjUL_N2GdEOivfKHO5-8r37eBlBVhXecIFFT_XzK-F9Wh0N6CThB2ZS_JKfUd_40-HvbqWsp89y0G73oxbqSfmOy7qNc0aiLpYvrvX0l2w9IDarSYgofZDCOw

{
  "licenseId": "1111-4448",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL",
  "organization": {
    "name": "Scranton Dunder Mifflin Paper Company Inc.",
    "contactName": "Michael Scott",
    "contactEmail": "mscott@dmifflin.com",
    "contactPhone": "+48946542164"
  }
}

###
DELETE http://localhost:8888/api/v1/organizations/1/licenses/1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MDg2MjQsImlhdCI6MTY1MjcwODMyNCwianRpIjoiNjNjZTQzZDYtNDkwYS00NDViLTkyNzItNTdiYWQ5MGVkMTgxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0NzBmM2ZlMi00N2JjLTQ3NzUtOWE0YS01YmRlZjliNWFjMTIiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.QWBkTYlCzEunISxHRGyvgmRdRCj_Cy2Rgo4tec2Xbyv5AObV5dXyafvdfeQHPz8jZ1gTZ_8MgfDkgMXiX6AQof4Sio7m2YbH3Xb4WpVs3IylC2tFzjShbEWPsRdYcaho_3sqCmQnxyyIs8kWDDj3p7q9CClcTFVYhme-oBStNWR7h0yX4JedPpEGMQDaBJNgc7Jehrq09IMc2qtNQtwb4w4965o0c08bsBomUh-2DtHvP49MNDPA07vPkdnWcgppzh7HMEyNZO00O7tKgr5GY2bPZJRfeyP2wrOfuo86oRh-DrO8l2cW_lCTLdQ_Og2TPjPSfsx3iBIuNyfd_WlfBw


###
PUT http://localhost:8888/api/v1/organizations/1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MDg2MjQsImlhdCI6MTY1MjcwODMyNCwianRpIjoiNjNjZTQzZDYtNDkwYS00NDViLTkyNzItNTdiYWQ5MGVkMTgxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0NzBmM2ZlMi00N2JjLTQ3NzUtOWE0YS01YmRlZjliNWFjMTIiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.QWBkTYlCzEunISxHRGyvgmRdRCj_Cy2Rgo4tec2Xbyv5AObV5dXyafvdfeQHPz8jZ1gTZ_8MgfDkgMXiX6AQof4Sio7m2YbH3Xb4WpVs3IylC2tFzjShbEWPsRdYcaho_3sqCmQnxyyIs8kWDDj3p7q9CClcTFVYhme-oBStNWR7h0yX4JedPpEGMQDaBJNgc7Jehrq09IMc2qtNQtwb4w4965o0c08bsBomUh-2DtHvP49MNDPA07vPkdnWcgppzh7HMEyNZO00O7tKgr5GY2bPZJRfeyP2wrOfuo86oRh-DrO8l2cW_lCTLdQ_Og2TPjPSfsx3iBIuNyfd_WlfBw


{
  "licenseId": "1111-4444",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL"
}

