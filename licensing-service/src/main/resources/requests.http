###
POST http://127.0.0.1:8888/actuator/refresh
Content-Type: application/json

###
GET http://127.0.0.1:8888/actuator/env
Content-Type: application/json

###
GET http://localhost:8877/licenses/api/v1/organizations/4725c59c-cccd-4053-ae6f-7ae3e3529fbf/licenses/1111-4450
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMMGRGOGNIQ2hOZTI5d2xUVGtHOEdXMjVXd3JDR2Z1dW5QcUVtRklDSGJzIn0.eyJleHAiOjE2NTI3OTcwMjYsImlhdCI6MTY1Mjc5NjcyNiwianRpIjoiZGViMzgwNTEtMzAxZS00ZTVjLWExYTQtZjA4NzYwYzhlNzA4IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjIwOWQwMzQ2LTgxODMtNGI1OS1hYjU4LTY4MjgwYWY3NjhmOCIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiJiYTMwNTFkMS02OTIwLTQ0MjctODY3NS1lYzA4MjgzMmZlNDAiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.c2RC66sIavnEAaa8Xbq9kw_BcTJbWAA9xwbTqQs5xExRVpyuyrmWEDwL-WLbpywsXHr8lgkCrWMlX7wubq3qFZHn-nC3CNbyAgZAyZOdC657eCnQQteVJu8FaMQ-X3vMEUPwb0WZ2oS8jAN6LH-2-XNdGbGBm2i4-0klrKpE0v4PEE1Z3eQOE7JwZRFYmPL7zuldoHy5j1eEwQFJqCKGuVIzZY8IraLYwVQ_lc___POlbzH_xX139k7nZKBFei80_ds3POO6CF2qsTe1l_dHBlRwRTVG820l0sO4tsr-wl05vr25Wx88MdMxIYCKtYBOa7RL5dP1v9Q53iqlFeZfew


### gateweay create
POST http://localhost:8877/licenses/api/v1/organizations/7c6d16ee-d32f-4da1-9fa3-8284f6004ef1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMMGRGOGNIQ2hOZTI5d2xUVGtHOEdXMjVXd3JDR2Z1dW5QcUVtRklDSGJzIn0.eyJleHAiOjE2NTI4MTIwNjMsImlhdCI6MTY1MjgxMTc2MywianRpIjoiZmEyYjg0MjEtM2IxZS00OWIwLTkwYTctY2ZlYjI3ZDhmYjU4IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjIwOWQwMzQ2LTgxODMtNGI1OS1hYjU4LTY4MjgwYWY3NjhmOCIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiIxNGU5YzM1Zi02YzUyLTQxOTItOGVjNS00ODNjNTdmOThmMTMiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.H6Da5h3StgfsaC5Nru04LqXJegyXEGagBdm_mlw85CUgJ5qSOEkG1ijwjayhRz-iMhH_jzxRuFKjmFc1rHQGFB_eN7gGxWV7nEuHrD-SGqyKzkKa-_nRX9BbfYo073bORU3eZrpRDHSJDAtf8NEDBkI2PFEeCm6bATa8Sky16264N1ixYRz9tqzuVcAxehbhqCSM_E6npCEeEbJEvB38toN_1oHQ6LGkTIk_aScAtiTJh_9nZJWPjBUNsurAlMCAllSnmrOMkB6v9HT7Vi7eIk_CBH_FgxXAUwkGHJFLTiFM3CxnZtMByaZWQ6GrpQd-ganRNmuRJ1neHvkJGZxlkA

{
  "licenseId": "1111-4452",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL",
  "organization": {
    "name": "Scranton Dunder Mifflin Paper Company Inc.",
    "contactName": "Michael Scott",
    "contactEmail": "mscott@dmifflin.com",
    "contactPhone": "+48946542164"
  }
}

### openid login admin
POST http://localhost:8181/auth/realms/dunder-mifflin-realm/protocol/openid-connect/token
Authorization: Basic ZHVuZGVyLW1pZmZsaW4tc3RvY2tzOjczYmRiYTBkLWEyZTEtNGViYS1iM2JmLTc2NTRiYjUwYTU1MA==
Content-Type: application/x-www-form-urlencoded

grant_type=password&username=michael.scott&password=123456

### openid login user
POST http://localhost:8181/auth/realms/dunder-mifflin-realm/protocol/openid-connect/token
Authorization: Basic ZHVuZGVyLW1pZmZsaW4tc3RvY2tzOjczYmRiYTBkLWEyZTEtNGViYS1iM2JmLTc2NTRiYjUwYTU1MA==
Content-Type: application/x-www-form-urlencoded

grant_type=password&username=dwight.schrute&password=123456

### gateway
GET http://localhost:8877/licenses/api/v1/organizations/b87cf126-2527-4980-9235-8945a8289e4b/licenses
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MTIxOTgsImlhdCI6MTY1MjcxMTg5OCwianRpIjoiYTdhYjhmNzItODllZC00ODc0LThlMWQtYzZmZTA0MDk1ZWM5IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0ZDJhNjNmOC01ZmUwLTRiZWUtODhkZC03NzQ2Y2I4YjkzYmMiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.mpVuRXQSjd8OvbJslRWMS0ztg8w6ul6bm6hDh7oID_Kkma8Ft5S-LBG6rawvjH6c5c6Am_y2a05PqdOPeRVd2VWsX5YU8hyGSW0JkPQhZGiYiGgEHfPdaxN5KUnoPJ823VF6DM6FONUFCK_aFsuoRPu_-9jMPpqPnhGwymOKq0CvF-u-f_CPpGyNBBeS5npU9xVWRYBtjUWsm3QmNQWzE5rPPslq4oX8mRBdJbyY-DNqr9e9SXKM5UAs79T0LvLrNgOA3NPIAbgIIOFM7HY1M98SPGHd0fol6E8CE0PLA3hesXC0CuzvjjaKKd9Ukwx0kpxRO34Ck3TYxDEA3Dm2uA

### circuit breaker in action
GET http://localhost:8888/api/v1/organizations/b87cf126-2527-4980-9235-8945a8289e4b/licenses
Content-Type: application/json
tmx-correlation-id: 123456

###
POST http://localhost:8888/api/v1/organizations/1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MTk4MzUsImlhdCI6MTY1MjcxOTUzNSwianRpIjoiNzFkYTA4NzctYzZlZi00YzU4LTg5YjItY2I2MzMzZGQwMmZjIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiIwNDFiOTJiNS0zMDBhLTQ0N2UtOGM1OC0xMzNiMDljNGVmYTkiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.F_P3Ak2IH0oCKTBJ93BAbTEdZb2Lbf_ZlDiucMumOrJ4X7NJJUv7AOugJq5Kk_wev7PT4ySKRSAiBj0j8OkQYeXj_qBljhWeMNrbQwuIiypRJswQ6ZIBsC5p2TKWN0UT4CIazdiAqsiMzzAl0IXlL4Iy8WKVo_QYHT4qb3jppwCdqNfk5RKBwZsPniuNasGqNWuwnOBnHSodzqW3ukzvBjAxFx8YiUjUL_N2GdEOivfKHO5-8r37eBlBVhXecIFFT_XzK-F9Wh0N6CThB2ZS_JKfUd_40-HvbqWsp89y0G73oxbqSfmOy7qNc0aiLpYvrvX0l2w9IDarSYgofZDCOw

{
  "licenseId": "1111-4448",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL",
  "organization": {
    "name": "Scranton Dunder Mifflin Paper Company Inc.",
    "contactName": "Michael Scott",
    "contactEmail": "mscott@dmifflin.com",
    "contactPhone": "+48946542164"
  }
}

###
DELETE http://localhost:8888/api/v1/organizations/1/licenses/1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MDg2MjQsImlhdCI6MTY1MjcwODMyNCwianRpIjoiNjNjZTQzZDYtNDkwYS00NDViLTkyNzItNTdiYWQ5MGVkMTgxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0NzBmM2ZlMi00N2JjLTQ3NzUtOWE0YS01YmRlZjliNWFjMTIiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.QWBkTYlCzEunISxHRGyvgmRdRCj_Cy2Rgo4tec2Xbyv5AObV5dXyafvdfeQHPz8jZ1gTZ_8MgfDkgMXiX6AQof4Sio7m2YbH3Xb4WpVs3IylC2tFzjShbEWPsRdYcaho_3sqCmQnxyyIs8kWDDj3p7q9CClcTFVYhme-oBStNWR7h0yX4JedPpEGMQDaBJNgc7Jehrq09IMc2qtNQtwb4w4965o0c08bsBomUh-2DtHvP49MNDPA07vPkdnWcgppzh7HMEyNZO00O7tKgr5GY2bPZJRfeyP2wrOfuo86oRh-DrO8l2cW_lCTLdQ_Og2TPjPSfsx3iBIuNyfd_WlfBw


###
PUT http://localhost:8888/api/v1/organizations/1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MDg2MjQsImlhdCI6MTY1MjcwODMyNCwianRpIjoiNjNjZTQzZDYtNDkwYS00NDViLTkyNzItNTdiYWQ5MGVkMTgxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0NzBmM2ZlMi00N2JjLTQ3NzUtOWE0YS01YmRlZjliNWFjMTIiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.QWBkTYlCzEunISxHRGyvgmRdRCj_Cy2Rgo4tec2Xbyv5AObV5dXyafvdfeQHPz8jZ1gTZ_8MgfDkgMXiX6AQof4Sio7m2YbH3Xb4WpVs3IylC2tFzjShbEWPsRdYcaho_3sqCmQnxyyIs8kWDDj3p7q9CClcTFVYhme-oBStNWR7h0yX4JedPpEGMQDaBJNgc7Jehrq09IMc2qtNQtwb4w4965o0c08bsBomUh-2DtHvP49MNDPA07vPkdnWcgppzh7HMEyNZO00O7tKgr5GY2bPZJRfeyP2wrOfuo86oRh-DrO8l2cW_lCTLdQ_Og2TPjPSfsx3iBIuNyfd_WlfBw


{
  "licenseId": "1111-4444",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL"
}

