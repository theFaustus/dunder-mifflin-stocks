###
POST http://127.0.0.1:8888/actuator/refresh
Content-Type: application/json

###
GET http://127.0.0.1:8888/actuator/env
Content-Type: application/json

###
GET http://localhost:8888/api/v1/organizations/b87cf126-2527-4980-9235-8945a8289e4b/licenses/1111-4444
Content-Type: application/json

### gateweay create
POST http://localhost:8877/licenses/api/v1/organizations/1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MjE3MjMsImlhdCI6MTY1MjcyMTQyMywianRpIjoiNmNhNGMwNmEtODdmNC00YzdhLWE1ODgtY2Q5NmY4NTcxN2Y5IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0M2RkYzlmMS1kMGQ2LTRiMGEtODk1ZS03N2JlM2UxYzcwMGUiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.Oc4WxOhd7YydiaTw_uEj21GKsSO9cXdskuMdKWH7ULZpf298aH8bx23fXiir6v5Sj-uwmFduTIFdXN-PN7aPfa4I1rMK0sgxSjmHhmMIbu8dnqte-10rk1la4eWPSgkKcVSbZU9f5vdmhQKmxgT8hKL9Tz7YH381YEKfEIS_U-gaAkke7VWT7ZLopR3OaydFvTrW7Yncprrxy1MsMNTtzOG5iPwegvLqS9lcj3_z8pvcmUjTDDc8HYYFjnY8cnLEOVbfYdLQrrX6yi7RPwAKPK0kBNJqrGeR9737IPWOlJJuQWUOeEqe2gzu47bynycQuUBsJe67Tgp8eSH_ch0_fg

{
  "licenseId": "1111-4450",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL",
  "organization": {
    "name": "Scranton Dunder Mifflin Paper Company Inc.",
    "contactName": "Michael Scott",
    "contactEmail": "mscott@dmifflin.com",
    "contactPhone": "+48946542164"
  }
}

### openid login admin
POST http://localhost:8181/auth/realms/dunder-mifflin-realm/protocol/openid-connect/token
Authorization: Basic ZHVuZGVyLW1pZmZsaW4tc3RvY2tzOjczYmRiYTBkLWEyZTEtNGViYS1iM2JmLTc2NTRiYjUwYTU1MA==
Content-Type: application/x-www-form-urlencoded

grant_type=password&username=michael.scott&password=123456

### openid login user
POST http://localhost:8181/auth/realms/dunder-mifflin-realm/protocol/openid-connect/token
Authorization: Basic ZHVuZGVyLW1pZmZsaW4tc3RvY2tzOjczYmRiYTBkLWEyZTEtNGViYS1iM2JmLTc2NTRiYjUwYTU1MA==
Content-Type: application/x-www-form-urlencoded

grant_type=password&username=dwight.schrute&password=123456

### gateway
GET http://localhost:8877/licenses/api/v1/organizations/b87cf126-2527-4980-9235-8945a8289e4b/licenses
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MTIxOTgsImlhdCI6MTY1MjcxMTg5OCwianRpIjoiYTdhYjhmNzItODllZC00ODc0LThlMWQtYzZmZTA0MDk1ZWM5IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0ZDJhNjNmOC01ZmUwLTRiZWUtODhkZC03NzQ2Y2I4YjkzYmMiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.mpVuRXQSjd8OvbJslRWMS0ztg8w6ul6bm6hDh7oID_Kkma8Ft5S-LBG6rawvjH6c5c6Am_y2a05PqdOPeRVd2VWsX5YU8hyGSW0JkPQhZGiYiGgEHfPdaxN5KUnoPJ823VF6DM6FONUFCK_aFsuoRPu_-9jMPpqPnhGwymOKq0CvF-u-f_CPpGyNBBeS5npU9xVWRYBtjUWsm3QmNQWzE5rPPslq4oX8mRBdJbyY-DNqr9e9SXKM5UAs79T0LvLrNgOA3NPIAbgIIOFM7HY1M98SPGHd0fol6E8CE0PLA3hesXC0CuzvjjaKKd9Ukwx0kpxRO34Ck3TYxDEA3Dm2uA

### circuit breaker in action
GET http://localhost:8888/api/v1/organizations/b87cf126-2527-4980-9235-8945a8289e4b/licenses
Content-Type: application/json
tmx-correlation-id: 123456

###
POST http://localhost:8888/api/v1/organizations/1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MTk4MzUsImlhdCI6MTY1MjcxOTUzNSwianRpIjoiNzFkYTA4NzctYzZlZi00YzU4LTg5YjItY2I2MzMzZGQwMmZjIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiIwNDFiOTJiNS0zMDBhLTQ0N2UtOGM1OC0xMzNiMDljNGVmYTkiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.F_P3Ak2IH0oCKTBJ93BAbTEdZb2Lbf_ZlDiucMumOrJ4X7NJJUv7AOugJq5Kk_wev7PT4ySKRSAiBj0j8OkQYeXj_qBljhWeMNrbQwuIiypRJswQ6ZIBsC5p2TKWN0UT4CIazdiAqsiMzzAl0IXlL4Iy8WKVo_QYHT4qb3jppwCdqNfk5RKBwZsPniuNasGqNWuwnOBnHSodzqW3ukzvBjAxFx8YiUjUL_N2GdEOivfKHO5-8r37eBlBVhXecIFFT_XzK-F9Wh0N6CThB2ZS_JKfUd_40-HvbqWsp89y0G73oxbqSfmOy7qNc0aiLpYvrvX0l2w9IDarSYgofZDCOw

{
  "licenseId": "1111-4448",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL",
  "organization": {
    "name": "Scranton Dunder Mifflin Paper Company Inc.",
    "contactName": "Michael Scott",
    "contactEmail": "mscott@dmifflin.com",
    "contactPhone": "+48946542164"
  }
}

###
DELETE http://localhost:8888/api/v1/organizations/1/licenses/1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MDg2MjQsImlhdCI6MTY1MjcwODMyNCwianRpIjoiNjNjZTQzZDYtNDkwYS00NDViLTkyNzItNTdiYWQ5MGVkMTgxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0NzBmM2ZlMi00N2JjLTQ3NzUtOWE0YS01YmRlZjliNWFjMTIiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.QWBkTYlCzEunISxHRGyvgmRdRCj_Cy2Rgo4tec2Xbyv5AObV5dXyafvdfeQHPz8jZ1gTZ_8MgfDkgMXiX6AQof4Sio7m2YbH3Xb4WpVs3IylC2tFzjShbEWPsRdYcaho_3sqCmQnxyyIs8kWDDj3p7q9CClcTFVYhme-oBStNWR7h0yX4JedPpEGMQDaBJNgc7Jehrq09IMc2qtNQtwb4w4965o0c08bsBomUh-2DtHvP49MNDPA07vPkdnWcgppzh7HMEyNZO00O7tKgr5GY2bPZJRfeyP2wrOfuo86oRh-DrO8l2cW_lCTLdQ_Og2TPjPSfsx3iBIuNyfd_WlfBw


###
PUT http://localhost:8888/api/v1/organizations/1/licenses
Content-Type: application/json
Accept-Language: es
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLenRYUnk3Q0NYV2I5NVAtMzlqdzJvNHFzRktEdU1nODZ6ckNxZmF2UjNnIn0.eyJleHAiOjE2NTI3MDg2MjQsImlhdCI6MTY1MjcwODMyNCwianRpIjoiNjNjZTQzZDYtNDkwYS00NDViLTkyNzItNTdiYWQ5MGVkMTgxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgxL2F1dGgvcmVhbG1zL2R1bmRlci1taWZmbGluLXJlYWxtIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImFhMTU4NTJhLTE0ZDEtNDJiMi1hM2M0LWQwNDkzNmJkNzhhNSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImR1bmRlci1taWZmbGluLXN0b2NrcyIsInNlc3Npb25fc3RhdGUiOiI0NzBmM2ZlMi00N2JjLTQ3NzUtOWE0YS01YmRlZjliNWFjMTIiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRtcy1hZG1pbiIsImRtcy11c2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWR1bmRlci1taWZmbGluLXJlYWxtIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdW5kZXItbWlmZmxpbi1zdG9ja3MiOnsicm9sZXMiOlsiQURNSU4iLCJVU0VSIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1pY2hhZWwgU2NvdHQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJtaWNoYWVsLnNjb3R0IiwiZ2l2ZW5fbmFtZSI6Ik1pY2hhZWwiLCJmYW1pbHlfbmFtZSI6IlNjb3R0IiwiZW1haWwiOiJtc2NvdHRAZG1pZmZsaW4uY29tIn0.QWBkTYlCzEunISxHRGyvgmRdRCj_Cy2Rgo4tec2Xbyv5AObV5dXyafvdfeQHPz8jZ1gTZ_8MgfDkgMXiX6AQof4Sio7m2YbH3Xb4WpVs3IylC2tFzjShbEWPsRdYcaho_3sqCmQnxyyIs8kWDDj3p7q9CClcTFVYhme-oBStNWR7h0yX4JedPpEGMQDaBJNgc7Jehrq09IMc2qtNQtwb4w4965o0c08bsBomUh-2DtHvP49MNDPA07vPkdnWcgppzh7HMEyNZO00O7tKgr5GY2bPZJRfeyP2wrOfuo86oRh-DrO8l2cW_lCTLdQ_Og2TPjPSfsx3iBIuNyfd_WlfBw


{
  "licenseId": "1111-4444",
  "description": "Scranton Paper License",
  "organizationId": "123-456-789",
  "productName": "Premium Copy Paper",
  "licenseType": "FULL"
}

